// Colors
// =====================
@dark-blue: #054696;
@light-blue: rgb(1,122,213);
@website-lighter-blue: rgb(219,233,246);
@grey: rgb(49,58,61);
@red: #e63e2e;
@green: #587521;
@orange: #ed8b00;
@fluent-red: rgb(251,68,27);


// Typography
// -------------------------
@slabFontFamily:		museo, FjordOne, sans-serif;
@sansFontFamily:        "museo-sans", Gill Sans, Open Sans, Tahoma, Arial, sans-serif;
@narrowSansFontFamily: @sansFontFamily;
@serifFontFamily:       Georgia, "Times New Roman", Times, serif;
@monoFontFamily:        Menlo, Monaco, Consolas, "Courier New", monospace;

@baseFontSize:          13px;
@baseFontFamily:        @slabFontFamily;
@baseLineHeight:        18px;
@altFontFamily:         @serifFontFamily;

///

@inputBorder:                   @input-border-color;
@inputDisabledBackground:       @input-disabled-bg-color;
@inputDisabledBorderColor:		@input-disabled-border-color;
@inputPaddingHorz:				4px;
@inputPaddingVert:				2px;

@general-grid-border-color: black;
@general-grid-odd-bg-color: white;
@general-grid-even-bg-color: rgb(245,245,245);
@column-menu-border-color: black;

@inputPaddingVert: 1px;

// <link href='http://fonts.googleapis.com/css?family=Fjord+One' rel='stylesheet' type='text/css'>

@landscape-bg-width: 960px;
@landscape-bg-height: 548px;
@portrait-bg-width: 360px; // import from javascript
@portrait-bg-height: 920px;

.intro-on-body(@image:url(../images/girl-on-terrace.jpg),@image-portrait:url(../images/girl-on-terrace.jpg),@min-height: @top-splash-room, @max-height: @top-splash-max) {

    #intro {

        left:0;
        right:0; 
        //min-height: @landscape-bg-height;
        // height: @landscape-bg-height;
        //TODO z-index: -9999;

        //padding-top: 200px;
        color: white;

        background-image: @image;
        background-position: top left;
        background-repeat: no-repeat; 
        // background-size: auto 100%;
        background-size: 100% auto;
    }
    #tracer { position:fixed; visibility: hidden; width: @landscape-bg-width; height: @landscape-bg-height;}

    @media only screen and {
        
    }

    // Narrow browser
    @media only screen 
    and (min-width : 320px) 
    and (max-width : 360px) 
     {

        #intro {
            background-image: @image-portrait;
            background-position: top center;
            background-size: 360px auto;
        }
        #tracer { position:fixed; visibility: hidden; width: @portrait-bg-width; height: @portrait-bg-height;}
    }

    // Narrow browser
    @media only screen 
    and (min-width : 361px) 
    and (max-width : 800px) 
     {

        #intro {
            background-image: @image-portrait;
            background-position: top center;
            background-size: 100% auto;
        }
        #tracer { position:fixed; visibility: hidden; width: @portrait-bg-width; height: @portrait-bg-height;}
    }


    //TODO fixed width 320-360, scale after

    //and (orientation : portrait)

    // iPhone portrait and landscape
    @media only screen 
    and (min-device-width : 320px) 
    and (max-device-width : 568px) 
     {

        #intro {
            background-image: @image-portrait;
            background-position: top left;
            background-size: 360px auto;
        }
        #tracer { position:fixed; visibility: hidden; width: @portrait-bg-width; height: @portrait-bg-height;}
    }

    // iPad:
    // not sure about this
    @media screen and (device-aspect-ratio: 3/4) and (orientation:portrait) {

        #stuck {
            background-position: bottom center;
            background-size: auto 100%;
        }
    }

}

.stuck-on-body(@image:url(../images/girl-on-terrace.jpg),@image-portrait:url(../images/girl-on-terrace.jpg),@min-height: @top-splash-room, @max-height: @top-splash-max) {

    // default until 960px
    #stuck {

        position:fixed;
        top:0;
        width:100%; 
        min-height: @landscape-bg-height;
        height: @landscape-bg-height;
        z-index: -9999;

        //padding-top: 200px;
        color: white;

        background-image: @image;
        background-position: top left;
        background-repeat: no-repeat; 
        background-size: auto 100%;
    }
    #tracer { position:fixed; visibility: hidden; width: @landscape-bg-width; height: @landscape-bg-height;}

    article {
        margin-top: @top-splash-room; // will be overridden by struck measurement
        // min-width: 980px;
    }

    // past 960px width
    @media only screen and (min-width : @landscape-bg-width) {
        #stuck {
            background-size: 100% auto;
            height:100%;
            min-height: @min-height;
            max-height: @max-height;
        }
    }
    
    //TODO fixed width 320-360, scale after

    // iPhone portrait
    @media only screen 
    and (min-device-width : 320px) 
    and (max-device-width : 568px) 
    and (orientation : portrait) {

        #stuck {
            width: 100%;
            height: @portrait-bg-height;
            min-height: initial;
            max-height: initial;

            background-image: @image-portrait;
            background-position: top center;
            background-size: 360px auto;

            .we-love {
                left: 25px;
            }
            .story {
                position: absolute;
                top: initial;
                bottom: 100px;
                left: 25px;
                width: 80%;
            }
            .benefits {
                left: 25px;
                width: 80%;
            }

            form {
                left: 25px;
                top: 47%;
                width: 80%;
                margin-left: 0;
                margin-top: 0;
            }
        }
        #tracer { width: @portrait-bg-width; height: @portrait-bg-height;}

        article {
            margin-top: @top-splash-room-640 * 2;
            min-width: initial;
        }
    }

    // iPhone landscape
    @media only screen 
    and (min-device-width : 320px) 
    and (max-device-width : 568px) 
    and (orientation : landscape) {

        #stuck {
            min-height: 320px;
            max-height: 520px;

            background-position: top left;
            background-size: auto 100%;
        }
        article {
            min-width: initial;
        }
    }

    // iPad:
    @media screen and (device-aspect-ratio: 3/4) and (orientation:portrait) {

        #stuck {
            background-position: bottom center;
            background-size: auto 100%;
        }
    }

    // iPad:
    // @media screen and (device-aspect-ratio: 3/4) and (orientation:landscape) {

    //     #stuck {
    //         background-image: @image;
    //         background-position: bottom center;
    //         background-size: auto 100%;
    //     }
    // }
}


.side-menu(@width: 200px, @edge-width: 3px, @bg-color: @fluent-orange, @shaded-color: @fluent-dark-orange, @active-color: #c00, @color: #c0c0c0, @hover-color: white) {

    position: absolute;
    top: 0; bottom: 0;
    left: -(@width);
    width: @width + @edge-width;
    .list-as-menu();
    border-right: 3px solid @bg-color;
    z-index: 10;

    background-color: @bg-color;
    color: @color;

    
    nav.flag {
        position: absolute;
        left: 100%;
        top: 10px;

        button.show-menu {
            border: 0;
            display: inline-block;
            //width: 20px; height: 20px;
            background-color: @bg-color;
            color: @color;
            font-size: 19px;
            padding: 6px 8px;
            -webkit-appearance: none;
            margin-top: -4px;

            &:focus { outline:none; }
            &:hover {
                color: @hover-color;
            }
        }

        label {
            display: inline-block;
            margin-left: 8px;
            color: @color;
            font-size: 1.2em;
            text-align: center;
        }
    }


    ul {
        li {
            // position: relative;
            height: 2.5em;
            > ul {
                border-top: 1px solid @shaded-color;
            }

            > ul > li a, 
            > ul > li q {
                padding-left: 2em;
                background-color: @bg-color;
                border-color: @shaded-color;
                border-top: none;
            }
        }

        a, q {
            display: block;
            height: 100%;
            background-color: @shaded-color;
            border: 1px solid @bg-color;
            color: @color;
            padding: .5em 1em;
        }
    }

    /* container */

    > a, > q {
        display: none;
    }
    li {
        position: relative;

        a,q {
            color: @color;
            display: block;
            cursor: pointer;

            &:hover {
                color: @hover-color;
                // background-color: @
            }
            &:active {
                background-color: @active-color !important;
            }
        }

        &[selected=true] q:after {
            position:absolute;
            right: 1em;
            top: 0.6em;
            content: "\2713";
        }
    }
}

.side-menu-color(@bg-color,@shaded-color) {
    //@border-color: darken(@bg-color,5%);

    // first level
    > ul {
        // background-color: @bg-color;
        border: 1px solid @bg-color;

        > li:not( :last-child ) > a,
        > li:not( :last-child ) > q {
            border-right: 1px solid @shaded-color;
        }
        > li:hover > a,
        &:not ( :hover ) > li.active > a,
        > li:hover > q,
        &:not ( :hover ) > li.active > q {
            background-color: @shaded-color;
        }        
    }

    // second level
    li ul {

        background-color: @shaded-color;
        a,q {
            border-top: 1px solid @bg-color;
        }

        li a:hover,
        &:not( :hover ) li.active a {
            background-color: @bg-color;
        }
    }
}


.outhangingHeader(@header-height: 60px, @bg-color: rgba(0,0,0,.7),@bg-color-ie:rgb(40,40,40)) {

    > header {
        position:absolute;
        top: -(@header-height);
        height: @header-height;
        left:0; right:0;
        background-color: @bg-color-ie;
        background-color: @bg-color;
    }

}

.articleSections(@white-bg-color: white, @shaded-bg-color: rgb(243,243,243), @border-top-color: rgb(236,236,236),@border-bottom-color: rgb(236,236,236)) {

    section {
        padding-top: 3em;
        padding-bottom: 3em;
        width: 100%;
        margin: 0 auto;
        background-color: @white-bg-color;
        box-shadow: 0 5px 5px #454545;
        color: #474747;

        h3 {
            text-align: center;
            font-size: 2em;
        }
        p {
            //width: 680px;
            // margin: 0 auto;
            word-wrap: normal;
            overflow-wrap: break-word; 
        }
    }

    section.even {
        background-color: @shaded-bg-color;
        border-top: 1px solid @border-top-color;
        border-bottom: 1px solid @border-bottom-color;
    }

}

.articleFooter(@bg-color: @footer-bg-color,@color: #888, @link-color: @fluent-red) {

    > footer {
        position: relative;
        padding: 75px 0 25px 0;
        background-color: @bg-color;
        color: @color;
        line-height: 1.5;

        a {
            color: @link-color;
            text-decoration: none;
        }
    }

}

